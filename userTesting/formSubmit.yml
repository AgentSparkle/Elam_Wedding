config:
  target: "http://localhost:8080"
  phases:
    - duration: 45
      arrivalRate: 1
  processor: "./randomData.js"

scenarios:
  - name: "Submit Attendance"
    flow:
      # call generateRandomData() to create the name, email, and password variables
      - function: "generateRandomData"
      - post:
          url: "/rsvp/submit"
          json:
            name: "{{ name }}"
            email: "{{ email }}"
            guests: "{{ guestCount }}"
            song: "{{ favoriteSong }}"
            comments: "{{ comment }}"
      # Print the data we're sending while debugging the script:
      - log: "Sent a request to /rsvp/submit with {{ name }}, {{ email }}, {{ guestCount }}, {{ favoriteSong }}, {{ comment }}"
